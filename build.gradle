apply plugin: 'groovy'
apply plugin: 'maven'

repositories {
    mavenCentral()
}

dependencies {
    compile gradleApi()
    compile localGroovy()
}

uploadArchives {
    repositories.mavenDeployer {
        pom.groupId = 'com.roottony.gradle'
        pom.artifactId = 'placeholder'
        pom.version = '1.0'

        repository(url: "file:///${System.getenv('HOME')}/gradle-local-repo/")
    }
}

// Make sure all code is compiled, tested and checked before uploadArchives.
uploadArchives.dependsOn ':build'
